#!/usr/bin/env bash
#MISE description="Watch and rebuild on changes (full dev workflow)"
#MISE depends=["setup-vault"]

set -euo pipefail

PROJECT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/../.." && pwd)"

echo "ðŸ”§ Kanban Bases View - Development Mode"
echo ""

# Build once
echo "Initial build..."
mise run build

# Symlink to vault
bash "$PROJECT_DIR/tools/symlink.sh"

echo ""
echo "Setup complete. Starting watch mode..."
echo ""

# Run build in watch mode
mise run build --watch
